SubDir TOP apps walktest ;

Description walktest : "WalkTest demo" ;
Application walktest : [ Wildcard *.cpp *.h ] ;
LinkWith walktest : crystalspace ;

# Some external projects use gcc's -ansi and -pedantic options. We need to
# ensure that CS's public headers are usable when these options are enabled,
# Unfortunately, we can not enable these options globally since CS uses some
# features (such as `long long') which are not available in the present
# language standard. As a compromise, we enable these restrictions on an
# individual module basis so as to ensure that the CS headers are tested
# against these options on a regular basis.
if $(COMPILER.C++FLAGS.PEDANTIC.ENABLE)
{
  CFlags walktest : $(COMPILER.C++FLAGS.PEDANTIC.ENABLE) ;
}

CompileGroups bugplug    : walkall ;
CompileGroups csconin    : walkall ;
CompileGroups csfont     : walkall ;
CompileGroups csgifimg   : walkall ;
CompileGroups fontplex   : walkall ;
if $(JPEG.AVAILABLE) = "yes"
{
  CompileGroups csjpgimg : walkall ;
}
CompileGroups csddsimg   : walkall ;
CompileGroups csparser   : walkall ;
if $(PNG.AVAILABLE) = "yes"
{
  CompileGroups cspngimg : walkall ;
}
CompileGroups cssynldr   : walkall ; 
CompileGroups dynavis    : walkall ;
CompileGroups engine     : walkall ;
CompileGroups engseq     : walkall ;
CompileGroups fontplex   : walkall ;
CompileGroups frustvis   : walkall ;
CompileGroups imgplex    : walkall ; 
CompileGroups meshes     : walkall ; 
CompileGroups ptanimimg  : walkall ;
CompileGroups opcode     : walkall ;
CompileGroups reporter   : walkall ;
CompileGroups sequence   : walkall ;
CompileGroups simpcon    : walkall ;
CompileGroups softcanvas : walkall ;
CompileGroups stdpt      : walkall ;
CompileGroups stdrep     : walkall ;
if $(ZLIB.AVAILABLE) = "yes"
{
  CompileGroups vfs      : walkall ;
}
CompileGroups walktest   : walkall ;
CompileGroups xmlread    : walkall ;
if $(GL.AVAILABLE) = "yes"
{
  CompileGroups openglcanvas : walkall ;
}
CompileGroups softcanvas : walkall ;
CompileGroups renderall  : walkall ;

Description walktest_static : "WalkTest demo (static build)" ;

SubVariant static ;
Application walktest_static : [ Wildcard *.cpp *.h ] :
  independent noinstall nohelp ;
CFlags walktest_static : [ FDefines CS_STATIC_LINKED ] : nostatic ;
MsvcDefine walktest_static : CS_STATIC_LINKED ;
LinkWith walktest_static : crystalspace ;
LinkStaticPlugins walktest_static : $(STATIC.PLUGINLIST) ;
SubVariant ;
