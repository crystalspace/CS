<?xml version="1.0" encoding="utf-8" ?>
<shader type="xmlshader" name="parallax">
  <technique priority="150">
    <pass>
      <mixmode>
        <add />
      </mixmode>
      <buffer source="normal" destination="normal" />
      <buffer source="tangent" destination="texture coordinate 1" />
      <buffer source="binormal" destination="texture coordinate 2" />
      <vp plugin="glcg" file="/shader/parallax/parallax.cgvp" />
      <texture destination="unit 0" name="tex normal" />
      <texture destination="unit 1" name="tex diffuse" />
      <texture destination="unit 2" name="tex height" />
      <?if vars."specular" ?>
        <fp plugin="glcg" file="/shader/parallax/parallax_spec.cgfp" />
      <?else?>
        <fp plugin="glcg" file="/shader/parallax/parallax.cgfp" />
      <?endif?>
    </pass>
  </technique>
  <technique priority="100">
    <pass>
      <mixmode>
        <add />
      </mixmode>
      <buffer source="normal" destination="normal" />
      <buffer source="tangent" destination="texture coordinate 1" />
      <buffer source="binormal" destination="texture coordinate 2" />
      <vp plugin="glarb" file="/shader/parallax/parallax.avp" />
      <texture destination="unit 0" name="tex normal" />
      <texture destination="unit 1" name="tex diffuse" />
      <texture destination="unit 2" name="tex height" />
      <fp plugin="glarb" file="/shader/parallax/parallax.afp" />
    </pass>
  </technique>
</shader>
